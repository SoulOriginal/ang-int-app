<div class="flex flex-col size-full">
  <div class="flex size-full">
    <div class="flex flex-col w-full max-w-[300px]">
      <div class="w-full bg-asideBg h-full">
        <h1 class="text-center m-0 py-5">Homepage</h1>
        <div class="border-b-2 border-borderColor"></div>
        <div class="w-full flex flex-col items-center gap-1 py-5">
          <button class="flex justify-starr items-center  gap-1 p-2 rounded-2xl w-[227px] bg-lightColor">
            <mat-icon aria-hidden="false" class="size-2" fontIcon="home"></mat-icon>
            <span class="text-sm leading-4">All files</span>
          </button>
          <button class="flex justify-starr items-center  gap-1 p-2 rounded-2xl w-[227px] hover:bg-lightColor transition-all duration-200">
            <mat-icon aria-hidden="false" class="size-2" fontIcon="forward_to_inbox"></mat-icon>
            <span class="text-sm leading-4">Sending the object</span>
          </button>
          <button class="flex justify-starr items-center  gap-1 p-2 rounded-2xl w-[227px] hover:bg-lightColor transition-all duration-200">
            <mat-icon aria-hidden="false" class="size-2" fontIcon="delete"></mat-icon>
            <span class="text-sm leading-4">Deleted files</span>
          </button>
        </div>
        <div class="border-b-2 border-borderColor"></div>
        <div class="p-8 min-h-[350px] text-center">
          <apps-file-tree size="lg" [nodes]="(nodes$ | async)!" [config]="config" (selectEvent)="onSelect($event)" (updatedNodes)="onSelect($event)" />
        </div>
        <div class="border-b-2 border-borderColor"></div>
        <div class="w-full flex flex-col items-center gap-1 py-5 align-bottom h-stretch">
          <button (click)="handleCreateFiles()" class=" flex justify-starr items-center  gap-1 p-2 rounded-2xl w-[227px] hover:bg-lightColor transition-all duration-200">
            <mat-icon aria-hidden="false" class="size-2" fontIcon="add_circle"></mat-icon>
            <span class="text-sm leading-4">Create 50 elements</span>
          </button>
          <button (click)="handleCreateFolders()"
            class="flex justify-starr items-center  gap-1 p-2 rounded-2xl w-[227px] hover:bg-lightColor transition-all duration-200">
            <mat-icon aria-hidden="false" class="size-2" fontIcon="create_new_folder"></mat-icon>
            <span class="text-sm leading-4">Create 50 folders</span>
          </button>
        </div>

        <div class="border-b-2 border-borderColor"></div>

        <div class="inline-flex  py-5 gap-6 justify-between px-8 w-full">
          <button mat-mini-fab class="!bg-transparent">
            <mat-icon class="!text-black size-2" aria-hidden="false" fontIcon="undo" />
          </button>
          <button mat-mini-fab class="!bg-transparent">
            <mat-icon class="!text-black size-2" aria-hidden="false" fontIcon="redo" />
          </button>
        </div>



      </div>
    </div>

    <div class="size-full flex flex-col px-8 py-5">

      <div class="flex gap-1 items-center">

        <mat-form-field class=" apps-input w-full" appearance="outline">
          <mat-icon matPrefix aria-hidden="false" class="mat-icon-44" fontIcon="search"></mat-icon>
          <input matInput placeholder="Search..." value="Sushi">
        </mat-form-field>

        <div class="flex gap-4 ml-4 *:items-center ">
          <mat-icon aria-hidden="false" class="size-2" fontIcon="imagesmode"></mat-icon>
          <mat-icon aria-hidden="false" class="size-2" fontIcon="tune"></mat-icon>
          <mat-icon aria-hidden="false" class="size-2" fontIcon="settings"></mat-icon>
          <button [matMenuTriggerFor]="menu"><mat-icon aria-hidden="false" class="size-2" fontIcon="help" /></button>
        </div>


        <mat-menu #menu="matMenu" yPosition="above" class="!rounded-[10px] !w-[215px] !h-[250px]">
          <div class="flex flex-col items-center">
            <h1 class="text-center !font-semibold	 !text-sm">Hotkeys</h1>
            <div class="flex flex-col gap-2">
              <div class="*:flex *:justify-center *:items-center flex gap-[5px] ">
                <div class="*:flex *:justify-center *:items-center flex gap-1 ">
                  <div class="border border-black rounded-lg px-2 py-1 ">
                    <span class="text-span">CTRL</span>
                  </div>
                  <div class="border border-black rounded-lg px-3 py-1 ">
                    <span class="text-span">Z</span>
                  </div>
                </div>
                <div class="">
                  <div class="border border-black h-[2px] w-[2px] rounded-full">
                  </div>
                </div>
                <div class="">
                  <span class="text-[7px] leading-3 font-normal">Go back</span>
                </div>
              </div>
              <div class="*:flex *:justify-center *:items-center flex gap-[5px] ">
                <div class="*:flex *:justify-center *:items-center flex gap-1 ">
                  <div class="border border-black rounded-lg px-2 py-1 ">
                    <span class="text-span">CTRL</span>
                  </div>
                  <div class="border border-black rounded-lg px-3 py-1 ">
                    <span class="text-span">C</span>
                  </div>
                </div>
                <div class="">
                  <div class="border border-black h-[2px] w-[2px] rounded-full">
                  </div>
                </div>
                <div class="">
                  <span class="text-[7px] leading-3 font-normal">copy an object</span>
                </div>
              </div>
              <div class="*:flex *:justify-center *:items-center flex gap-[5px] ">
                <div class="*:flex *:justify-center *:items-center flex gap-1 ">
                  <div class="border border-black rounded-lg px-2 py-1 ">
                    <span class="text-span">CTRL</span>
                  </div>
                  <div class="border border-black rounded-lg px-3 py-1 ">
                    <span class="text-span">V</span>
                  </div>
                </div>
                <div class="">
                  <div class="border border-black h-[2px] w-[2px] rounded-full">
                  </div>
                </div>
                <div class="">
                  <span class="text-[7px] leading-3 font-normal">Insert object</span>
                </div>
              </div>
              <div class="*:flex *:justify-center *:items-center flex gap-[5px] ">
                <div class="*:flex *:justify-center *:items-center flex gap-1 ">
                  <div class="border border-black rounded-lg px-2 py-1 ">
                    <span class="text-span">CTRL</span>
                  </div>
                  <div class="border border-black rounded-lg px-3 py-1 ">
                    <span class="text-span">G</span>
                  </div>
                </div>
                <div class="">
                  <div class="border border-black h-[2px] w-[2px] rounded-full">
                  </div>
                </div>
                <div class="">
                  <span class="text-[7px] leading-3 font-normal">Merge object into a folder</span>
                </div>
              </div>
              <div class="*:flex *:justify-center *:items-center flex gap-[5px] ">
                <div class="*:flex *:justify-center *:items-center flex gap-1 ">
                  <div class="border border-black rounded-lg px-2 py-1 ">
                    <span class="text-span">DEL</span>
                  </div>

                </div>
                <div class="">
                  <div class="border border-black h-[2px] w-[2px] rounded-full">
                  </div>
                </div>
                <div class="">
                  <span class="text-[7px] leading-3 font-normal">delete the object</span>
                </div>
              </div>
              <div class="*:flex *:justify-center *:items-center flex gap-[5px]">
                <div class="*:flex *:justify-center flex gap-1 *:items-center">

                  <div class="border border-black rounded-lg px-2 ">
                    <mat-icon aria-hidden="true" class="!size-4 !text-[16px]" fontIcon="arrow_right_alt"></mat-icon>
                  </div>
                </div>
                <div class="">
                  <div class="border border-black h-[2px] w-[2px] rounded-full">
                  </div>
                </div>
                <div class="">
                  <span class="text-[7px] leading-3 font-normal">Open object</span>
                </div>
              </div>
              <div class="*:flex *:justify-center *:items-center flex gap-[5px]">
                <div class="*:flex *:justify-center flex gap-1 *:items-center">
                  <div class="border border-black rounded-lg px-2 ">
                    <mat-icon aria-hidden="true" class="!size-4 !text-[16px]  transform scale-x-[-1]" fontIcon="arrow_right_alt"></mat-icon>
                  </div>
                </div>
                <div class="">
                  <div class="border border-black h-[2px] w-[2px] rounded-full">
                  </div>
                </div>
                <div class="">
                  <span class="text-[7px] leading-3 font-normal">close the object</span>
                </div>
              </div>



            </div>


          </div>
        </mat-menu>
      </div>
      <div class="flex py-5 gap-4">
        <button (click)="handleCreateFiles(1)" class=" flex flex-col p-3 bg-black rounded-xl">
          <mat-icon aria-hidden="false" class="size-2 text-lightColor" fontIcon="add_circle"></mat-icon>
          <span class="text-lightColor">Create the object</span>
        </button>
        <button
          (click)="handleCreateFolders(1)"
          class="flex flex-col p-3 bg-lightColor rounded-xl border-2 border-black hover:bg-black transition-all duration-200 hover:text-lightColor">
          <mat-icon aria-hidden="false" class="size-2 " fontIcon="create_new_folder"></mat-icon>
          <span>Create a folder</span>
        </button>
        <button
          class="flex flex-col p-3 bg-lightColor rounded-xl border-2 border-black hover:bg-black transition-all duration-200 hover:text-lightColor gap-1">
          <mat-icon aria-hidden="false" class="size-2 " fontIcon="download"></mat-icon>
          <span>Download the object</span>
        </button>
      </div>
      <div class="flex gap-1 flex-col py-8">
        <div>
          <mat-icon aria-hidden="false" class="size-2" fontIcon="folder"></mat-icon>
          <span class=" text-[27.73px] leading-[33.56px]">All files {{ (selctedNodes$ | async)?.data?.title }}</span>
        </div>
        <div class="example-container bg-[#000000] size-full" cdkDropList>
          <div class="example-container bg-[#fff] size-full text-black" cdkDropListGroup>
            <div class="example-container bg-[#000000] size-full" cdkDropList>
              <div class=" bg-[#fff] size-full text-black" cdkDropListGroup>
                <div class="grid grid-cols-7 gap-2  size-full" cdkDropList>
                  @if ((selctedNodes$ | async)) {
                  @for (node of (selctedNodes$ | async)?.children; track $index) {
                  <div [ngClass]="{'bg-[#c4c6d3]': node.id === (selctedNode$ | async)?.id}" (click)="handleClickNode(node)" [id]="node.id + '_' + 'DROP_AFTER'"
                    cdkDrag [cdkDragData]="node"
                    class="cursor-pointer hover:bg-[#f5f5f5] rounded-lg ursor-pointer flex flex-col justify-center items-center gap-1">
                    <mat-icon class="text-[80px] !size-20 text-[#2587be]" [fontIcon]="node?.data?.faIcon ?? 'broken_image'"></mat-icon>
                    <span class="text-center text-sm">{{node.data.title}}</span>
                  </div>
                  }
                  @empty {
                  <div *ngIf="{ data: selctedNodes$ | async } as node">
                    @if(node.data){
                    <div [ngClass]="{'bg-[#c4c6d3]': node.data.id === (selctedNode$ | async)?.id}" (click)="handleClickNode(node.data)"
                      [id]="node.data.id + '_' + 'DROP_AFTER'"
                      cdkDrag [cdkDragData]="node"
                      class="cursor-pointer hover:bg-[#f5f5f5] rounded-lg ursor-pointer flex flex-col justify-center items-center gap-1">


                      <mat-icon class="text-[80px] !size-20 text-[#2587be]" [fontIcon]="node.data.data.faIcon ?? 'broken_image'"></mat-icon>

                      <span class="text-center text-sm">{{node.data.data.title}}</span>
                    </div>
                    }
                  </div>
                  }
                  }
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>

    </div>
  </div>